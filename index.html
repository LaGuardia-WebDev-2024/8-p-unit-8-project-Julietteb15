<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Ocean + Red Fish (Khan Academy style)</title>
    <style>
      body { margin:0; background:#0b1b2b; display:flex; justify-content:center; }
      canvas { margin-top:20px; border:2px solid #000; }
    </style>
  </head>

  <body>
    <canvas id="canvas" width="600" height="400"></canvas>

    <script>
      // Khan Academyâ€“style setup (no libraries needed)
      var canvas = document.getElementById("canvas");
      var ctx = canvas.getContext("2d");

      // ---------- CUSTOM FUNCTIONS ----------
      var drawOcean = function () {
        // background gradient
        var g = ctx.createLinearGradient(0, 0, 0, canvas.height);
        g.addColorStop(0, "#33cfff");
        g.addColorStop(0.45, "#0b66b3");
        g.addColorStop(1, "#06365f");
        ctx.fillStyle = g;
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        // sandy floor
        ctx.fillStyle = "rgba(255,255,255,0.08)";
        ctx.fillRect(0, 300, canvas.width, 100);

        // light ripples
        ctx.strokeStyle = "rgba(255,255,255,0.18)";
        ctx.lineWidth = 2;
        for (var y = 305; y <= 395; y += 12) {
          ctx.beginPath();
          for (var x = 0; x <= canvas.width; x += 30) {
            ctx.lineTo(x, y + 3 * Math.sin((x + y) * 0.05));
          }
          ctx.stroke();
        }

        // title
        ctx.fillStyle = "rgba(255,255,255,0.85)";
        ctx.font = "bold 24px Arial";
        ctx.fillText("The Ocean", 230, 40);
      };

      var drawFish = function (x, y, s) {
        ctx.save();
        ctx.translate(x, y);
        ctx.scale(s, s);

        // body
        ctx.fillStyle = "#e31b1b";
        ctx.beginPath();
        ctx.ellipse(0, 0, 38, 22, 0, 0, Math.PI * 2);
        ctx.fill();

        // tail
        ctx.beginPath();
        ctx.moveTo(-38, 0);
        ctx.lineTo(-62, -18);
        ctx.lineTo(-62, 18);
        ctx.closePath();
        ctx.fill();

        // fin
        ctx.fillStyle = "rgba(255,255,255,0.25)";
        ctx.beginPath();
        ctx.moveTo(-5, 6);
        ctx.lineTo(10, 22);
        ctx.lineTo(18, 4);
        ctx.closePath();
        ctx.fill();

        // eye
        ctx.fillStyle = "#ffffff";
        ctx.beginPath();
        ctx.arc(18, -6, 4, 0, Math.PI * 2);
        ctx.fill();
        ctx.fillStyle = "#111111";
        ctx.beginPath();
        ctx.arc(19, -6, 2, 0, Math.PI * 2);
        ctx.fill();

        ctx.restore();
      };

      // ---------- ANIMATION ----------
      var fish = [
        { x: -50, y: 180, s: 1.0, speed: 2.2 },
        { x: -200, y: 140, s: 0.8, speed: 3.0 },
        { x: -350, y: 230, s: 1.2, speed: 1.6 }
      ];

      var tick = 0;

      var draw = function () {
        tick++;

        drawOcean();

        // update + draw fish
        for (var i = 0; i < fish.length; i++) {
          fish[i].x += fish[i].speed;

          // gentle bobbing
          var bob = 6 * Math.sin((tick * 0.06) + i);

          drawFish(fish[i].x, fish[i].y + bob, fish[i].s);

          // wrap around when off screen
          if (fish[i].x > canvas.width + 80) {
            fish[i].x = -80 - Math.random() * 300;
            fish[i].y = 110 + Math.random() * 170;
          }
        }

        requestAnimationFrame(draw);
      };

      draw();
    </script>
  </body>
</html>
